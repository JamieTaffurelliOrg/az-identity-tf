# az-identity-tf
<!-- BEGIN_TF_DOCS -->
## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | ~> 1.6.0 |
| <a name="requirement_azapi"></a> [azapi](#requirement\_azapi) | ~> 1.5 |
| <a name="requirement_azuread"></a> [azuread](#requirement\_azuread) | ~> 2.30 |
| <a name="requirement_azurerm"></a> [azurerm](#requirement\_azurerm) | ~> 3.20 |
| <a name="requirement_random"></a> [random](#requirement\_random) | ~> 3.4 |

## Providers

| Name | Version |
|------|---------|
| <a name="provider_azuread"></a> [azuread](#provider\_azuread) | 2.31.0 |
| <a name="provider_azurerm"></a> [azurerm](#provider\_azurerm) | 3.35.0 |
| <a name="provider_azurerm.logs"></a> [azurerm.logs](#provider\_azurerm.logs) | 3.35.0 |
| <a name="provider_random"></a> [random](#provider\_random) | 3.4.3 |

## Modules

No modules.

## Resources

| Name | Type |
|------|------|
| [azuread_application.applications](https://registry.terraform.io/providers/hashicorp/azuread/latest/docs/resources/application) | resource |
| [azuread_application_federated_identity_credential.federated_identity_credentials](https://registry.terraform.io/providers/hashicorp/azuread/latest/docs/resources/application_federated_identity_credential) | resource |
| [azuread_conditional_access_policy.conditional_access_policies](https://registry.terraform.io/providers/hashicorp/azuread/latest/docs/resources/conditional_access_policy) | resource |
| [azuread_directory_role.roles](https://registry.terraform.io/providers/hashicorp/azuread/latest/docs/resources/directory_role) | resource |
| [azuread_directory_role_assignment.role_assignments_groups](https://registry.terraform.io/providers/hashicorp/azuread/latest/docs/resources/directory_role_assignment) | resource |
| [azuread_directory_role_assignment.role_assignments_objects](https://registry.terraform.io/providers/hashicorp/azuread/latest/docs/resources/directory_role_assignment) | resource |
| [azuread_directory_role_assignment.role_assignments_service_principals](https://registry.terraform.io/providers/hashicorp/azuread/latest/docs/resources/directory_role_assignment) | resource |
| [azuread_directory_role_assignment.role_assignments_users](https://registry.terraform.io/providers/hashicorp/azuread/latest/docs/resources/directory_role_assignment) | resource |
| [azuread_group.groups](https://registry.terraform.io/providers/hashicorp/azuread/latest/docs/resources/group) | resource |
| [azuread_group_member.group_members_groups](https://registry.terraform.io/providers/hashicorp/azuread/latest/docs/resources/group_member) | resource |
| [azuread_group_member.group_members_objects](https://registry.terraform.io/providers/hashicorp/azuread/latest/docs/resources/group_member) | resource |
| [azuread_group_member.group_members_service_principals](https://registry.terraform.io/providers/hashicorp/azuread/latest/docs/resources/group_member) | resource |
| [azuread_group_member.group_members_users](https://registry.terraform.io/providers/hashicorp/azuread/latest/docs/resources/group_member) | resource |
| [azuread_named_location.named_locations](https://registry.terraform.io/providers/hashicorp/azuread/latest/docs/resources/named_location) | resource |
| [azuread_service_principal.service_principals](https://registry.terraform.io/providers/hashicorp/azuread/latest/docs/resources/service_principal) | resource |
| [azuread_user.users](https://registry.terraform.io/providers/hashicorp/azuread/latest/docs/resources/user) | resource |
| [azurerm_management_group_template_deployment.pim_assignment_template](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/management_group_template_deployment) | resource |
| [azurerm_monitor_aad_diagnostic_setting.aad_diagnostics](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/monitor_aad_diagnostic_setting) | resource |
| [azurerm_role_assignment.custom_rbac_role_assignments_groups](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/role_assignment) | resource |
| [azurerm_role_assignment.custom_rbac_role_assignments_objects](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/role_assignment) | resource |
| [azurerm_role_assignment.custom_rbac_role_assignments_service_principals](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/role_assignment) | resource |
| [azurerm_role_assignment.custom_rbac_role_assignments_users](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/role_assignment) | resource |
| [azurerm_role_assignment.rbac_role_assignments_groups](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/role_assignment) | resource |
| [azurerm_role_assignment.rbac_role_assignments_objects](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/role_assignment) | resource |
| [azurerm_role_assignment.rbac_role_assignments_service_principals](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/role_assignment) | resource |
| [azurerm_role_assignment.rbac_role_assignments_users](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/role_assignment) | resource |
| [azurerm_role_definition.rbac_role_definitions](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/role_definition) | resource |
| [random_password.user_password](https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/password) | resource |
| [random_uuid.pim_assignment_template_deployment_names](https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/uuid) | resource |
| [azuread_client_config.current](https://registry.terraform.io/providers/hashicorp/azuread/latest/docs/data-sources/client_config) | data source |
| [azurerm_log_analytics_workspace.logs](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/data-sources/log_analytics_workspace) | data source |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_application_federated_identity_credentials"></a> [application\_federated\_identity\_credentials](#input\_application\_federated\_identity\_credentials) | The OpenID Connect credentials to add to Azure AD applications | <pre>map(object(<br>    {<br>      display_name             = string<br>      application_id_reference = string<br>      description              = string<br>      audiences                = optional(list(string), ["api://AzureADTokenExchange"])<br>      issuer                   = string<br>      subject                  = string<br>    }<br>  ))</pre> | `{}` | no |
| <a name="input_applications"></a> [applications](#input\_applications) | The Azure AD applications to create | <pre>map(object(<br>    {<br>      display_name                   = string<br>      device_only_auth_enabled       = optional(bool, false)<br>      fallback_public_client_enabled = optional(bool, false)<br>      identifier_uris                = optional(list(string), [])<br>      logo_image                     = optional(string)<br>      marketing_uri                  = optional(string)<br>      owners                         = optional(list(string))<br>      prevent_duplicate_name         = optional(bool, true)<br>      privacy_statement_uri          = optional(string)<br>      sign_in_audience               = optional(string, "AzureADMyOrg")<br>      support_url                    = optional(string)<br>      terms_of_service_url           = optional(string)<br>      required_resource_accesses = optional(list(object(<br>        {<br>          resource_app_id = string<br>          resource_accesses = list(object(<br>            {<br>              id   = string<br>              type = string<br>            }<br>          ))<br>        }<br>      )), [])<br>      tags = list(string)<br>    }<br>  ))</pre> | `{}` | no |
| <a name="input_conditional_access_policies"></a> [conditional\_access\_policies](#input\_conditional\_access\_policies) | Named locations to include for Conditional Access Policies | <pre>list(object(<br>    {<br>      name                = string<br>      state               = optional(string, "enabled")<br>      client_app_types    = optional(list(string), ["all"])<br>      sign_in_risk_levels = optional(list(string))<br>      user_risk_levels    = optional(list(string))<br>      applications = object({<br>        included_applications = optional(list(string))<br>        excluded_applications = optional(list(string))<br>        included_user_actions = optional(list(string))<br>      })<br>      devices = optional(object({<br>        mode = string<br>        rule = string<br>      }))<br>      locations = object({<br>        excluded_location_references = optional(list(string), [])<br>        excluded_location_ids        = optional(list(string), [])<br>        included_location_references = optional(list(string), [])<br>        included_location_ids        = optional(list(string), [])<br>      })<br>      platforms = object({<br>        excluded_platforms = optional(list(string))<br>        included_platforms = list(string)<br>      })<br>      users = object({<br>        included_user_ids         = optional(list(string), [])<br>        included_user_references  = optional(list(string), [])<br>        excluded_user_ids         = optional(list(string), [])<br>        excluded_user_references  = optional(list(string), [])<br>        included_group_ids        = optional(list(string), [])<br>        included_group_references = optional(list(string), [])<br>        excluded_group_ids        = optional(list(string), [])<br>        excluded_group_references = optional(list(string), [])<br>        included_role_ids         = optional(list(string), [])<br>        excluded_role_ids         = optional(list(string), [])<br>      })<br>      grant_controls = object({<br>        operator                      = string<br>        built_in_controls             = list(string)<br>        custom_authentication_factors = optional(list(string))<br>        terms_of_use                  = optional(list(string))<br>      })<br>      session_controls = optional(object({<br>        application_enforced_restrictions_enabled = optional(bool, false)<br>        cloud_app_security_policy                 = optional(string)<br>        persistent_browser_mode                   = optional(string)<br>        sign_in_frequency                         = optional(number)<br>        sign_in_frequency_period                  = optional(string)<br>      }))<br>    }<br>  ))</pre> | `[]` | no |
| <a name="input_custom_rbac_role_assignments_groups"></a> [custom\_rbac\_role\_assignments\_groups](#input\_custom\_rbac\_role\_assignments\_groups) | The RBAC role assignments to give to groups for custom role definitions | <pre>map(object(<br>    {<br>      group_reference       = string<br>      custom_role_reference = optional(string)<br>      custom_role_id        = optional(string)<br>      scope                 = string<br>      description           = optional(string)<br>    }<br>  ))</pre> | `{}` | no |
| <a name="input_custom_rbac_role_assignments_objects"></a> [custom\_rbac\_role\_assignments\_objects](#input\_custom\_rbac\_role\_assignments\_objects) | The RBAC role assignments to give to objects for custom role definitions | <pre>map(object(<br>    {<br>      object_reference      = string<br>      custom_role_reference = optional(string)<br>      custom_role_id        = optional(string)<br>      scope                 = string<br>      description           = optional(string)<br>    }<br>  ))</pre> | `{}` | no |
| <a name="input_custom_rbac_role_assignments_service_principals"></a> [custom\_rbac\_role\_assignments\_service\_principals](#input\_custom\_rbac\_role\_assignments\_service\_principals) | The RBAC role assignments to give to service principals for custom role definitions | <pre>map(object(<br>    {<br>      service_principal_reference = string<br>      custom_role_reference       = optional(string)<br>      custom_role_id              = optional(string)<br>      scope                       = string<br>      description                 = optional(string)<br>    }<br>  ))</pre> | `{}` | no |
| <a name="input_custom_rbac_role_assignments_users"></a> [custom\_rbac\_role\_assignments\_users](#input\_custom\_rbac\_role\_assignments\_users) | The RBAC role assignments to give to users for custom role definitions | <pre>map(object(<br>    {<br>      user_reference        = string<br>      custom_role_reference = optional(string)<br>      custom_role_id        = optional(string)<br>      scope                 = string<br>      description           = optional(string)<br>    }<br>  ))</pre> | `{}` | no |
| <a name="input_group_memberships_groups"></a> [group\_memberships\_groups](#input\_group\_memberships\_groups) | The group memberships of Azure AD groups | <pre>map(object(<br>    {<br>      group_reference  = string<br>      member_reference = string<br>    }<br>  ))</pre> | `{}` | no |
| <a name="input_group_memberships_objects"></a> [group\_memberships\_objects](#input\_group\_memberships\_objects) | The group memberships of Azure AD objects | <pre>map(object(<br>    {<br>      group_reference  = string<br>      member_reference = string<br>    }<br>  ))</pre> | `{}` | no |
| <a name="input_group_memberships_service_principals"></a> [group\_memberships\_service\_principals](#input\_group\_memberships\_service\_principals) | The group memberships of Azure AD service principals | <pre>map(object(<br>    {<br>      group_reference  = string<br>      member_reference = string<br>    }<br>  ))</pre> | `{}` | no |
| <a name="input_group_memberships_users"></a> [group\_memberships\_users](#input\_group\_memberships\_users) | The group memberships of Azure AD users | <pre>map(object(<br>    {<br>      group_reference  = string<br>      member_reference = string<br>    }<br>  ))</pre> | `{}` | no |
| <a name="input_groups"></a> [groups](#input\_groups) | The Azure AD groups to create | <pre>map(object(<br>    {<br>      display_name           = string<br>      assignable_to_role     = optional(bool, true)<br>      description            = string<br>      owners                 = optional(list(string))<br>      prevent_duplicate_name = optional(bool, true)<br>      security_enabled       = optional(bool, true)<br>    }<br>  ))</pre> | `{}` | no |
| <a name="input_log_analytics_workspace"></a> [log\_analytics\_workspace](#input\_log\_analytics\_workspace) | The existing log analytics workspaces to send diagnostic logs to | <pre>object(<br>    {<br>      name                = optional(string)<br>      resource_group_name = optional(string)<br>    }<br>  )</pre> | `{}` | no |
| <a name="input_named_locations"></a> [named\_locations](#input\_named\_locations) | Named locations to include for Conditional Access Policies | <pre>list(object(<br>    {<br>      name = string<br>      ip_locations = optional(map(object({<br>        ip_ranges = list(string)<br>        trusted   = optional(bool, true)<br>      })))<br>      country_locations = optional(map(object({<br>        countries_and_regions                 = list(string)<br>        include_unknown_countries_and_regions = optional(bool, false)<br>      })))<br>    }<br>  ))</pre> | `[]` | no |
| <a name="input_objects"></a> [objects](#input\_objects) | Azure AD objects created outside of the calling configuration that require role assignments | <pre>map(object(<br>    {<br>      object_id = string<br>    }<br>  ))</pre> | `{}` | no |
| <a name="input_pim_assignments_groups"></a> [pim\_assignments\_groups](#input\_pim\_assignments\_groups) | The PIM assignments to give to Azure AD groups | <pre>list(object(<br>    {<br>      management_group_id = string<br>      location            = string<br>      scope               = string<br>      group_reference     = string<br>      role_definition_id  = string<br>      request_type        = optional(string, "AdminUpdate")<br>      justification       = string<br>      duration            = optional(string)<br>      end_date_time       = optional(string)<br>      type                = optional(string, "NoExpiration")<br>      start_date_time     = optional(string)<br>      deploy              = bool<br>    }<br>  ))</pre> | `[]` | no |
| <a name="input_rbac_role_assignments_groups"></a> [rbac\_role\_assignments\_groups](#input\_rbac\_role\_assignments\_groups) | The RBAC role assignments to give to groups | <pre>map(object(<br>    {<br>      group_reference      = string<br>      role_definition_name = string<br>      scope                = string<br>      description          = optional(string)<br>    }<br>  ))</pre> | `{}` | no |
| <a name="input_rbac_role_assignments_objects"></a> [rbac\_role\_assignments\_objects](#input\_rbac\_role\_assignments\_objects) | The RBAC role assignments to give to objects | <pre>map(object(<br>    {<br>      object_reference     = string<br>      role_definition_name = string<br>      scope                = string<br>      description          = optional(string)<br>    }<br>  ))</pre> | `{}` | no |
| <a name="input_rbac_role_assignments_service_principals"></a> [rbac\_role\_assignments\_service\_principals](#input\_rbac\_role\_assignments\_service\_principals) | The RBAC role assignments to give to service principals | <pre>map(object(<br>    {<br>      service_principal_reference = string<br>      role_definition_name        = string<br>      scope                       = string<br>      description                 = optional(string)<br>    }<br>  ))</pre> | `{}` | no |
| <a name="input_rbac_role_assignments_users"></a> [rbac\_role\_assignments\_users](#input\_rbac\_role\_assignments\_users) | The RBAC role assignments to give to users | <pre>map(object(<br>    {<br>      user_reference       = string<br>      role_definition_name = string<br>      scope                = string<br>      description          = optional(string)<br>    }<br>  ))</pre> | `{}` | no |
| <a name="input_rbac_role_definitions"></a> [rbac\_role\_definitions](#input\_rbac\_role\_definitions) | The custom RBAC role defintions to create to groups | <pre>list(object(<br>    {<br>      name              = string<br>      scope             = string<br>      description       = string<br>      actions           = optional(list(string), [])<br>      not_actions       = optional(list(string), [])<br>      data_actions      = optional(list(string), [])<br>      not_data_actions  = optional(list(string), [])<br>      assignable_scopes = list(string)<br>    }<br>  ))</pre> | `[]` | no |
| <a name="input_registered_roles"></a> [registered\_roles](#input\_registered\_roles) | The Azure AD roles to register for role assignments | `list(string)` | `[]` | no |
| <a name="input_role_assignments_groups"></a> [role\_assignments\_groups](#input\_role\_assignments\_groups) | The role assignments to give to groups | <pre>map(object(<br>    {<br>      group_reference = string<br>      template_id     = string<br>    }<br>  ))</pre> | `{}` | no |
| <a name="input_role_assignments_objects"></a> [role\_assignments\_objects](#input\_role\_assignments\_objects) | The role assignments to give to objects | <pre>map(object(<br>    {<br>      object_reference = string<br>      template_id      = string<br>    }<br>  ))</pre> | `{}` | no |
| <a name="input_role_assignments_service_principals"></a> [role\_assignments\_service\_principals](#input\_role\_assignments\_service\_principals) | The role assignments to give to service principals | <pre>map(object(<br>    {<br>      service_principal_reference = string<br>      template_id                 = string<br>    }<br>  ))</pre> | `{}` | no |
| <a name="input_role_assignments_users"></a> [role\_assignments\_users](#input\_role\_assignments\_users) | The role assignments to give to users | <pre>map(object(<br>    {<br>      user_reference = string<br>      template_id    = string<br>    }<br>  ))</pre> | `{}` | no |
| <a name="input_service_principals"></a> [service\_principals](#input\_service\_principals) | The Azure AD service principals to create | <pre>map(object(<br>    {<br>      account_enabled              = optional(bool, true)<br>      alternative_names            = optional(list(string))<br>      app_role_assignment_required = optional(bool, false)<br>      application_id_reference     = string<br>      description                  = string<br>      login_url                    = optional(string)<br>      notes                        = optional(string)<br>      notification_email_addresses = optional(list(string))<br>      owners                       = optional(list(string))<br>      use_existing                 = optional(bool, false)<br>      tags                         = list(string)<br>    }<br>  ))</pre> | `{}` | no |
| <a name="input_users"></a> [users](#input\_users) | The Azure AD users to create | <pre>map(object(<br>    {<br>      user_principal_name  = string<br>      display_name         = string<br>      account_enabled      = optional(bool, true)<br>      business_phones      = optional(list(string))<br>      city                 = optional(string)<br>      company_name         = optional(string)<br>      cost_center          = optional(string)<br>      country              = optional(string)<br>      department           = optional(string)<br>      division             = optional(string)<br>      employee_id          = optional(string)<br>      employee_type        = optional(string)<br>      fax_number           = optional(string)<br>      given_name           = optional(string)<br>      job_title            = optional(string)<br>      mail                 = optional(string)<br>      mobile_phone         = optional(string)<br>      office_location      = optional(string)<br>      other_mails          = optional(list(string))<br>      postal_code          = optional(string)<br>      preffered_language   = optional(string)<br>      show_in_address_list = optional(bool, true)<br>      state                = optional(string)<br>      street_address       = optional(string)<br>      surname              = optional(string)<br>      usage_location       = optional(string)<br>    }<br>  ))</pre> | `{}` | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_application_federated_identity_credentials"></a> [application\_federated\_identity\_credentials](#output\_application\_federated\_identity\_credentials) | Azure AD application federated identity credentials |
| <a name="output_applications"></a> [applications](#output\_applications) | Azure AD applications |
| <a name="output_groups"></a> [groups](#output\_groups) | Azure AD groups |
| <a name="output_rbac_role_definitions"></a> [rbac\_role\_definitions](#output\_rbac\_role\_definitions) | Azure Custom RBAC roles |
| <a name="output_service_principals"></a> [service\_principals](#output\_service\_principals) | Azure AD service principals |
| <a name="output_users"></a> [users](#output\_users) | Azure AD users |
<!-- END_TF_DOCS -->
